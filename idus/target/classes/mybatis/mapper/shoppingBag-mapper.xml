<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 별명지정(중복만 안되면 됨) -->
<mapper namespace="cart">

	<!-- 내 쇼핑백 현황 검색 -->

	<select id="selectAllShoppingBag"
		parameterType="java.lang.Integer" resultType="ShoppingBag">
		select * from shoppingBag_view where customerNo = #{customerNo}
	</select>

	<!-- 소핑백 작품 수량 수정 -->
		<!-- 쇼핑백 번호로 업데이트 -->
	<update id="updateShoppingBag" parameterType="ShoppingBag">
		update shoppingBag set amount = #{amount} + #{different} where spbNo = #{spbNo}
	</update>

	<!-- 쇼핑백 작품 제거 -->

	<delete id="deletShoppingBag" parameterType="java.lang.String">
		delete from	shoppingBag where customerNo = #{customerNo}
	</delete>

	<!-- 작품 주문 -->

	<insert id="insertOrder" parameterType="Order">
		insert into
		Order(artistNo,customerNo,pieceNo,optionNo,
		statusNo,amount,price)
		values(#{artistNo},#{customerNo},#{pieceNo},#{optionNo},
		#{statusNo},#{amount},#{price})
	</insert>

</mapper>